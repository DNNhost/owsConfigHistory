{"Name":"OWS Config History","ConfigurationID":"14099464-9815-4139-094e-cc0122c7a2c4","searchItems":[],"queryItems":[],"listItems":[],"messageItems":[{"Index":1,"Level":0,"Parameters":{"Name":"OnRender","RenderType":"0","skipDebug":"False","includeSearch":"False","includeExport":"False","includeImport":"False"},"ActionType":"Action-Region","ChildActions":[{"Index":2,"Level":1,"Parameters":{"Value":"Default Region OnRender, used for the purpose of any runtime which will change the course of the outcome of the module, or handling of the general interaction."},"ActionType":"Action-Comment","ChildActions":[]},{"Index":3,"Level":0,"Parameters":{"Type":"Query-Query","GroupStatement":"","GroupIndex":"","Value":"SELECT O.RepositoryID\n     -- ,[SettingValue]\n      ,O.Comment\n      ,SUBSTRING(O.CreatedBy,4,15) AS CREATEDBY\n      ,O.Created\n\t  , OS.ConfigurationName\n\t, OM.MANUALTEXT\n  FROM OpenWebStudio_Repository O WITH(NOLOCK)\n  LEFT JOIN OpenWebStudio_Settings OS WITH(NOLOCK) ON O.ConfigurationID = OS.ConfigurationID\n  LEFT JOIN OPENWEBSTUDIO_MANUAL OM WITH(NOLOCK) ON O.CONFIGURATIONID = OM.CONFIGURATIONID\n  WHERE O.ConfigurationID = '[config,Q]'\n  ORDER BY CREATED DESC","Connection":"","Filter":"","CacheTime":"","CacheName":"","CacheShared":"false"},"ActionType":"Template","ChildActions":[{"Index":4,"Level":0,"Parameters":{"Type":"Group-Header","GroupStatement":"","GroupIndex":"0","Value":"<script type=\"text/javascript\">\n\n\n function gotoconfig(pid)\n  {\nvar job = pid;\n\t\tnew_windows = window.open(\"/DesktopModules/OWS/Admin.aspx#config/\"+job, \"Config: \"+job);\n  };\n\n\n</script>\n\n\n<table class=\"table table-striped\">\n<thead>\n<tr>\n<th colspan=\"3\">\nModule: [CONFIGURATIONNAME] \n\t <button class=\"btn btn-small btn-success\" style=\"float:right;\" onclick=\"gotoconfig('[config,Q]');return false;\">Open Config \n\t<i class=\"icon-indent-left icon-white\"></i></button>\n</th>\n</tr>\n\n<tr>\n<th></th>\n<th colspan=\"2\">\n<textarea id='newnote' name='newnote'>[MANUALTEXT]</textarea>\n<script type=\"text/javascript\">\nCKEDITOR.replace('newnote');\n</script>\n<br/><button class=\"btn btn-small btn-info\"  onclick=\"document.getElementById('newnote').value=GetContents();ows.Fetch([ModuleID,System],-1,'action=manual');return false;\" style=\"float:right;\">Save <i class='icon-ok-sign icon-white'></i></button>\n</th>\n</tr>\n\n<tr>\n<th>Date</th>\n<th>Editor</th>\n<th style=\"width:70%;\">Notes  <i class=\"icon-refresh icon-blue-iex\" onclick=\"ows.Fetch([MODULEID,SYSTEM],-1,'');return false;\" title=\"Refresh\"></i></th>\n</tr></thead><tbody>","Connection":"","Filter":"","CacheTime":"","CacheName":"","CacheShared":"false"},"ActionType":"Template","ChildActions":[{"Index":5,"Level":0,"Parameters":{"Type":"Detail-Detail","GroupStatement":"","GroupIndex":"","Value":"<tr>\n<td>[$CREATED,{0:d}] [$CREATED,{0:t}]</td>\n<td>[CREATEDBY]</td>\n<td>\n{IIF, \"'[action,Q]'='edit' AND '[line,Q]'='[REPOSITORYID]'\", \n\"<i class=\\\"icon-ok-sign\\\" onclick=\\\"ows.Fetch([MODULEID,SYSTEM],-1,'action=save&line=[REPOSITORYID]');return false;\\\" title=\\\"Save\\\"></i> \n\t<i class=\\\"icon-backward\\\" onclick=\\\"ows.Fetch([MODULEID,SYSTEM],-1,'');return false;\\\" title=\\\"Back\\\"></i> \n\t<textarea rows=\\\"3\\\" style=\\\"width:95%;\\\" id=\\\"txt_comment\\\" name=\\\"txt_comment\\\">[COMMENT]</textarea>\n\"\n,\"<i class=\\\"icon-pencil\\\" onclick=\\\"ows.Fetch([MODULEID,SYSTEM],-1,'action=edit&line=[REPOSITORYID]');return false;\\\" title=\\\"Edit\\\"></i> [COMMENT]\"}</td>\n</tr>","Connection":"","Filter":"","CacheTime":"","CacheName":"","CacheShared":"false"},"ActionType":"Template","ChildActions":[]}]},{"Index":6,"Level":0,"Parameters":{"Type":"Group-Footer","GroupStatement":"","GroupIndex":"0","Value":"</tbody></table>","Connection":"","Filter":"","CacheTime":"","CacheName":"","CacheShared":"false"},"ActionType":"Template","ChildActions":[]}]}]},{"Index":7,"Level":0,"Parameters":{"Name":"New Region","RenderType":"0","skipDebug":"False","includeSearch":"False","includeExport":"False","includeImport":"False"},"ActionType":"Action-Region","ChildActions":[{"Index":8,"Level":0,"Parameters":{"LeftCondition":"'[action,Q]'","RightCondition":"'save'","Operator":"=","IsAdvanced":"False"},"ActionType":"Condition-If","ChildActions":[{"Index":9,"Level":0,"Parameters":{"Type":"&lt;Action&gt;","Name":"txt_comment","Value":"[COALESCE,txt_comment,FORM,\"{REPLACE:',''}\"]","SkipProcessing":"false","AssignmentType":"0"},"ActionType":"Action-Assignment","ChildActions":[]},{"Index":10,"Level":0,"Parameters":{"Name":"New Query","Query":"UPDATE OPENWEBSTUDIO_REPOSITORY\nSET COMMENT = '[txt_comment,A]'\t\nWHERE REPOSITORYID = '[line,Q]'","IsProcess":"false","Connection":"","CacheName":"","CacheTime":"","CacheShared":"false"},"ActionType":"Action-Execute","ChildActions":[]}]},{"Index":11,"Level":0,"Parameters":{"LeftCondition":"'[action,Q]'","RightCondition":"'manual'","Operator":"=","IsAdvanced":"False"},"ActionType":"Condition-If","ChildActions":[{"Index":12,"Level":0,"Parameters":{"Name":"New Query","Query":"DECLARE @UPD NVARCHAR(75)\nSET @UPD = ISNULL((SELECT UPDATEDBY FROM OPENWEBSTUDIO_MANUAL WITH(NOLOCK) WHERE CONFIGURATIONID = '[config,Q]'),'')\n\nIF @UPD = ''\nBEGIN\nINSERT INTO OPENWEBSTUDIO_MANUAL\n(CONFIGURATIONID, MANUALTEXT, LASTUPDATED, UPDATEDBY)\nVALUES ('[config,Q]', '[newnote,FORM]', GETDATE(), '[USERNAME,SYSTEM]')\n\nEND\n\nELSE\nBEGIN\nUPDATE OPENWEBSTUDIO_MANUAL\nSET MANUALTEXT = '[newnote,FORM]'\nWHERE CONFIGURATIONID = '[config,Q]'\n\nEND","IsProcess":"false","Connection":"","CacheName":"","CacheTime":"","CacheShared":"false"},"ActionType":"Action-Execute","ChildActions":[]}]}]}],"recordsPerPage":0,"noOWSCreate":false,"enableAlphaFilter":false,"enablePageSelection":false,"enableRecordsPerPage":false,"enableCustomPaging":false,"enableExcelExport":false,"enableHide_OnNoQuery":false,"enableHide_OnNoResults":false,"enableAdvancedParsing":true,"enableCompoundIIFConditions":true,"enableQueryDebug":false,"enableQueryDebug_Edit":false,"enableQueryDebug_Admin":false,"enableQueryDebug_Super":true,"enableQueryDebug_Log":false,"enableQueryDebug_ErrorLog":false,"autoRefreshInterval":"","skipRedirectActions":false,"skipSubqueryDebugging":false,"enableAdmin_Edit":true,"enableAdmin_Admin":false,"enableAdmin_Super":false,"BotRecordCount":0,"BotPageVariableName":null,"enableBotShowAllRecords":false,"enableBotDetection":false,"BotNonAjaxText":null,"disableOpenScript":false,"enableSilverlight":false,"enableAJAX":true,"enableAJAXPaging":false,"enableAJAXCustomPaging":false,"enableAJAXCustomStatus":false,"enableAJAXPageHistory":false,"customAJAXPageHistory":"","enableAJAXManual":false,"includeJavascriptUtilities":false,"includeJavascriptValidation":false,"javascriptInclude":["jquery"],"javascriptOnComplete":"","enableMultipleColumnSorting":false,"ModuleCommunicationMessageType":"","showAll":true,"useExplicitSystemVariables":false,"enabledForcedQuerySplit":false,"query":"","filter":"","customConnection":"","listItem":"","listAItem":"","defaultItem":"","noqueryItem":"","SearchQuery":"","SearchTitle":"","SearchLink":"","SearchAuthor":"","SearchDate":"","SearchKey":"","SearchContent":"","SearchDescription":"","Header":null,"Footer":null,"Title":null,"Version":"20"}
